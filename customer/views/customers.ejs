<!DOCTYPE html>
<html>

<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/customer/stylesheets/style.css">
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark shadowme">
    <div class="container-fluid">
      <div>
        <img src="http://images.restapi.co.za/pvt/Noroff-64.png" alt="" class="navbar-brand" id="spritespin">
      </div>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-3"> 
          <li class="nav-item">
            <a class="nav-link custom-nav-link" href="http://localhost:8000/product">Product Service</a>
          </li>
          <li class="nav-item">
            <a class="nav-link custom-nav-link" href="http://localhost:8000/customer">Customer Service</a>
          </li>
          <li class="nav-item">
            <a class="nav-link custom-nav-link" href="http://localhost:8000/management">Management Service</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container-fluid">
    <div class="row py-3">
      <div class="col">
        <h3><i class="bi bi-table"></i>Welcome to Customer service</h3>
      </div>
    </div>
    <form id="searchForm" class="mt-4 mb-4" onsubmit="redirectToCustomer(event)">
      <div class="input-group">
        <input type="text" class="form-control" id="searchPrefix" placeholder="Enter Last Name Prefix" required>
        <button type="submit" class="btn btn-primary">Search</button>
      </div>
    </form>
    <% if (error) { %>
    <div class="alert alert-danger text-center"><%= error %></div>
    <% } else if (customers) { %>
    <div class="panel shadowme">
      <div class="panel-body">
        <div class="panel d-flex align-items-center mt-0">
          <div class="panel-heading">
            <h6 class="m-0 align-bottom panel-caption">Customers</h6>
          </div>
        </div>
  
        <div class="card-text">
            <div class="table-responsive">
              <table class="table table-bordered table-dark table-striped table-hover" id="table">
                <thead class="table-dark">
                  <tr>
                    <th>Customer ID</th>
                    <th>Company Name</th>
                    <th>Title</th>
                    <th>First Name</th>
                    <th>Middle Name</th>
                    <th>Last Name</th>
                    <th>EmailAddress</th>
                    <th>Phone Number</th>
                    <th>Last Modified</th>
                  </tr>
                </thead>
                <tbody class="table-group-divider">
                  <% customers.forEach(customer => { %>
                    <tr>
                      <td><%= customer.CustomerID %></td>
                      <td><%= customer.CompanyName %></td>
                      <td><%= customer.Title %></td>
                      <td><%= customer.FirstName %></td>
                      <td><%= customer.MiddleName %></td>
                      <td><%= customer.LastName %></td>
                      <td><%= customer.EmailAddress %></td>
                      <td><%= customer.Phone %></td>
                      <td><%= customer.ModifiedDate %></td>
                    </tr>
                  <% }); %>
                </tbody>
              </table>
            </div>
        </div>
      </div>
    </div>
    <% } %>
  </div>
  <footer class="text-center text-lg-start text-light">
    <section>
      <div class="text-center p-3 fixed-bottom footer-background">
        Â© 2023 Copyright:
        <a class="text-reset fw-bold" href="https://noroff.no/"><img src="http://images.restapi.co.za/pvt/Noroff-64.png"
            class="footer-brand"" alt=""></a>
				Back-end Development
			</div>
	</footer>
  </div>
  <script src="/customer/js/main.js"></script>
</body>
</html>